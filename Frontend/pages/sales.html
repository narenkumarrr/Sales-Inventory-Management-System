<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Record Sale</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header class="topbar">
  <h2>Sales App</h2>

  <nav>
    <a href="dashboard.html">Dashboard</a>
    <a href="items.html">Items</a>
    <a href="sales.html">Sales</a>
    <a href="login.html">Logout</a>
  </nav>
</header>


  <!-- Header -->
  <header class="header">
    <h2>Sales Recording Panel</h2>
    <button class="logout-btn">Logout</button>
  </header>

  <!-- Main Layout -->
  <div class="container">

    <!-- Sidebar (Employee View) -->
    <nav class="sidebar">
      <ul>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="items.html">Items</a></li>
        <li class="active"><a href="sales.html">Add Sale</a></li>
        <li><a href="sales-history.html">Sales History</a></li>
        <li><a href="customers.html">Customers</a></li>
      <li><a href="admin-targets.html">Employee Targets</a></li>
      <li><a href="employee-profile.html">My Profile</a></li>
      </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <h1>Record Sale</h1>

      <!-- Customer Section -->
      <section class="card">
        <h3>Customer Details</h3>
        
        <div style="margin-bottom: 20px;">
          <div style="display: flex; gap: 20px; margin-bottom: 15px;">
            <label>
              <input type="radio" name="customerType" value="new" checked> New Customer
            </label>
            <label>
              <input type="radio" name="customerType" value="existing"> Existing Customer
            </label>
          </div>

          <!-- New Customer Form -->
          <div id="newCustomerForm">
            <div class="form-group">
              <label for="newCustomerName">Name</label>
              <input type="text" id="newCustomerName" placeholder="Enter customer name" required>
            </div>
            <div class="form-group">
              <label for="newCustomerPhone">Phone Number</label>
              <input type="text" id="newCustomerPhone" placeholder="Enter phone number" required>
            </div>
            <div class="form-group">
              <label for="newCustomerAddress">Address</label>
              <input type="text" id="newCustomerAddress" placeholder="Enter address" required>
            </div>
          </div>

          <!-- Existing Customer Dropdown -->
          <div id="existingCustomerForm" style="display: none;">
            <div class="form-group">
              <label for="existingCustomerSelect">Select Customer</label>
              <select id="existingCustomerSelect" required>
                <option value="">-- Select Customer --</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Display Selected Customer Info -->
        <div id="selectedCustomerInfo" style="display: none; background-color: #f0f9ff; padding: 15px; border-radius: 8px; border-left: 4px solid #2563eb; margin-top: 15px;">
          <p style="margin: 0 0 10px 0; font-weight: bold; color: #1e40af;">Selected Customer:</p>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <div>
              <p style="margin: 0; color: #6b7280; font-size: 12px;">NAME</p>
              <p id="displayCustomerName" style="margin: 5px 0 10px 0; font-weight: bold;">-</p>
            </div>
            <div>
              <p style="margin: 0; color: #6b7280; font-size: 12px;">PHONE</p>
              <p id="displayCustomerPhone" style="margin: 5px 0 10px 0; font-weight: bold;">-</p>
            </div>
            <div style="grid-column: 1 / -1;">
              <p style="margin: 0; color: #6b7280; font-size: 12px;">ADDRESS</p>
              <p id="displayCustomerAddress" style="margin: 5px 0 0 0; font-weight: bold;">-</p>
            </div>
          </div>
        </div>
      </section>

      <section class="card">
        <h3>Sale Details</h3>

        <div>
          <!-- Item selection -->
          <div class="form-group">
            <label for="itemSelect">Item</label>
            <select id="itemSelect" required>
              <option value="">-- Select Item --</option>
            </select>
          </div>

          <!-- Quantity -->
          <div class="form-group">
            <label for="quantity">Quantity</label>
            <input type="number" id="quantity" min="1" required>
          </div>

          <!-- Selling Price -->
          <div class="form-group">
            <label for="sellingPrice">Selling Price (per unit)</label>
            <input type="number" id="sellingPrice" min="0" required>
          </div>

          <button id="addToBillBtn" type="button">Add to Bill</button>
        </div>

        <!-- Bill Table -->
        <table width="100%" cellspacing="0" style="margin-top: 20px;">
          <thead>
            <tr>
              <th align="left">Item Name</th>
              <th align="left">Base Price</th>
              <th align="left">Selling Price</th>
              <th align="left">Qty</th>
              <th align="left">Total</th>
            </tr>
          </thead>
          <tbody id="billTableBody">
          </tbody>
        </table>

        <div style="margin-top: 15px; font-weight: bold; font-size: 18px;">
          <p id="grandTotal">Grand Total: â‚¹0</p>
        </div>

        <button id="confirmSaleBtn" type="button" style="margin-top: 10px; background-color: #10b981;">Confirm Sale</button>
      </section>

    </main>

  </div>
<script src="../js/sales.js"></script>

</body>
</html>
